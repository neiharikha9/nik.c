//Implement multiple stack using single array
#include<stdio.h>
#include<stdlib.h>
#define MAX 100
int stack[MAX],top1 = -1, top2 = MAX;
void push_stack1(int val){
    if(top1 == top2-1){
    printf("Stack-1 overflow. Cannot push into a stack-1\n");
    }
    else{
        stack[++top1] = val;
        printf("\nPushed %d into the stack-1.\n");
    }
}
void push_stack2(int val){
    if(top1 == top2-1){
    printf("Stack-2 overflow. Cannot push into a stack-2\n");
    }
    else{
        stack[--top2] = val;
        printf("\nPushed %d into the stack-2.\n");
    }
}
int pop_stack1(){
    if(top1 == -1){
        printf("\nStack-1 underflow. Cannot pop from stack-1\n");
        return -1;
    }
    else{
        int val = stack[top1];
        top1--;
        return val;
    }
}
int pop_stack2(){
    if(top2 == -1){
        printf("\nStack-2 underflow. Cannot pop from stack-2\n");
        return -1;
    }
    else{
        int val = stack[top1];
        top2++;
        return val;
    }
}

int peek_stack1(){
    if(top1 == -1){
        printf("\nStack-1 underflow. Cannot peek from stack-1\n");
        return -1;
    }
    else{
        return stack[top1];
    }
}
int peek_stack2(){
     if(top2 == -1){
        printf("\nStack-2 underflow. Cannot peek from stack-2\n");
        return -1;
    }
    else{
        return stack[top2];
    }
}

void display1(){
    if (top1 == -1){
        printf("\nStack-1 is empty\n");
    }
    else{
        printf("Stack-1 element are: \n");
        for (int i=top1; i>=0; i--){
            printf("\t%d\n", stack[i]);
        }
    }
}

void display2(){
    if (top2 == -1){
        printf("\nStack-2 is empty\n");
    }
    else{
        printf("Stack-2 element are: \n");
        for (int i=top1; i<MAX; i++){
            printf("\t%d\n", stack[i]);
        }
    }
}
int main(){
    int choice,num, val, res;
    while(1){
        printf("1. Push\n");
        printf("2. Pop\n");
        printf("3. Peek\n");
        printf("4. Display\n");
        printf("5. Exit\n");
        printf("Enter Choice : ");
        scanf("%d", &choice);
        switch(choice){
            case 1:
            printf("Enter stack number (1-2): ");
            scanf("%d", &num);
            printf("Enter Value:");
            scanf("%d", &val);
            if(num == 1){
                push_stack1(val);
            }
            else if(num == 2){
                push_stack2(val);
            }
            else{
                printf("\nInvalid stack number!!\n");
            }
            break;
            case 2:
            printf("Enter stack number (1-2): ");
            scanf("%d", &num);
            if(num == 1){
                res = pop_stack1();
                if(res != -1){
                    printf("\n%d pop from stack-1.\n", res);
                }
            }
            else if(num == 2){
                 res = pop_stack2();
                 if(res != -1){
                    printf("\n%d pop from stack-2.\n", res);
                }
                push_stack2(val);
            }
            else{
                printf("\nInvalid stack number!!\n");
            }
            break;
            case 3:
            break;
            case 4:
            break;
            case 5:
            break;
            case 6:
            break;
        }
    }
    return 0;
}
